<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>La Poste Open API - samples</title>
  <script src="../../client/client-lp-sdk.min.js"></script>
  <link rel="stylesheet" href="./style.css">
</head>
<body>

<h2>La Poste Open API</h2>

<h3>Sample #1</h3>

<form>
  <fieldset>
    <legend>La Poste:</legend>
    <p>
      <label>
        Consumer key :
        <input type="text" id="consumerKey">
      </label>
    </p>

    <p>
      <label>
        Consumer secret :
        <input type="text" id="consumerSecret">
      </label>
    </p>

    <p>
      <label>
        Username :
        <input type="text" id="username">
      </label>
    </p>

    <p>
      <label>
        Password :
        <input type="text" id="password">
      </label>
    </p>
  </fieldset>
</form>

<button id="go">Go</button>

<script>

  document.addEventListener('DOMContentLoaded', function (/*event*/) {

    var lpSdk = require('lp-sdk')
        , lp = new lpSdk.LaPoste()
        , goButton = document.getElementById('go');

    goButton.onclick = function () {
      lp.auth({
        consumerKey: document.getElementById('consumerKey').value,
        consumerSecret: document.getElementById('consumerSecret').value,
        username: document.getElementById('username').value,
        password: document.getElementById('password').value
      }, function (err, result) {
        if (err) {
          console.error(err);
          return;
        }
        console.log('result :', result);
      });
    };

  });

</script>
</body>
</html>